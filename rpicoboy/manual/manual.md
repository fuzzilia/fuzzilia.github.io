# RPicoBoy説明書(v1.0)

## １：はじめに

本書はちょっとしたゲームも作れる電子工作プログラム練習デバイス、RPicoBoy(アールピコボーイ)の説明書です。本書では簡単な利用方法について記載します。RPicoBoyはソースコードや回路図など作成に必要な情報のほとんどをWebに公開しています。ページのリンクを記載していますので、詳しくはそちらを参照してください。

https://fuzzilia.github.io/rpicoboy/index

![](./img/qr_code.png)

## ２：RPicoBoyについて

RPicoBoyはOLED、ボタン、ボリューム、ブザー、フルカラーLED、不揮発性領域の機能を備え、単4電池2本による稼働も可能な、多機能要素をコンパクトにまとめたデバイスです。マイコンにはRaspberry Pi Picoを使用しているため、Arduino IDEなどを用いた汎用的な開発が可能です。

## ３：注意事項

RPicoBoyは1つ1つ手作りしているため、個体差があります。以下の点に注意してください。

- 基板について
  - 基板のはんだ付けはすべて手作業で行っています。動作確認を行った上で梱包していますが、はんだ不良などが発生する可能性があります。
- 外装(ケース)について
  - 外装については積層型3Dプリンタで出力しています。ニッパーなどで極力取り除いていますが、バリなどが残っている場合や微妙な個体差が発生する場合があります。怪我などには注意して扱ってください。本製品により何かしら怪我などをした場合でも本サークルでは一切責任を追うことはできませんのでご了承ください。
- 廃棄について
  - 表側の外装の中には金属製のナットを埋め込んでいるため、廃棄する場合は外装も内部の基板も含めて不燃ごみ、またはお住みの自治体の小さい家電ゴミの破棄方法に合わせて廃棄をお願いします。

## ４：内容物

|名称|個数|備考|
|---|---|---|
|RPicoBoy本体|1|サンプルプログラム書き込み済み|
|USBケーブル|1|RPicoBoyとの通信用ケーブル(Type A to Micro)|

<div style="page-break-before:always"></div>

## ５：RPicoBoyの各部名称

RPicoBoyの各部構成は以下のようになっています。

![](./img/image.svg)

### ・各部説明

<!-- |<div style="width:110px">名称</div>|説明|
|---|---|
|OLED|128×64ドットの白色OLEDの画面です。中間色は仕様上表示できません。|
|ボリューム|ブザーの音量を調節するためのボリュームです。上に回すと大きく、下に回すと小さくなります。|
|電源ランプ|Raspberry Pi Pico本体付属のLEDです。サンプルプログラムではこのランプの点灯消灯を確認することで電源が入っているかどうか確認できます。|
|ブートボタン|Raspberry Pi Pico本体付属のブートボタンです。RPicoBoyにuf2ファイルを書き込む際などに使います。長くて細いもので押すようにしてください。|
|フルカラーLED|アノードコモンのフルカラーLEDです。様々な色を表現できます。|
|ブザー|圧電スピーカーです。音を鳴らすことができます。|
|電源スイッチ|電池で起動させる際の電源スイッチです。正面から見て左(穴が開いている方)にスライドさせるとON、右にスライドさせるとOFFになります。Micro USBポートに接続する際は必ず電源スイッチをOFFの状態にしてから接続してください。|
|A、B|ボタンです。サンプルプログラムでは基本的にAで決定、Bで停止やリトライなどの処理を割り当てています。|
|UP、RIGHT、LEFT、DOWN|ボタンです。サンプルプログラムではキャラやカーソルの移動で使用します。またこの4ボタンを全同時押しでメニュー画面に戻るような処理を取り入れています。|
|Micro USBポート|Micro USBケーブルの差し込み口です。RPicoBoyにプログラムを書き込む時などに使用します。Micro USBケーブルから給電が行われている時には、RPicoBoyに電池が入っていない、電源スイッチがOFFの場合でも動作可能となっています。|
|不揮発性領域|セーブ機能部分です。最大で256kビット(32kバイト)のデータを保存できます。|
|電池カバー|回転式になっており、下側から指でひっかけて引き上げる形にすると開きます。| -->

|名称|説明|
|---|---|
|OLED|128×64ドットの白色OLEDの画面です。中間色は仕様上表示できません。|
|ボリューム|ブザーの音量を調節するためのボリュームです。上に回すと大きく、下に回すと小さくなります。|
|電源ランプ|Raspberry Pi Pico本体付属のLEDです。サンプルプログラムではこのランプの点灯消灯を確認することで電源が入っているかどうか確認できます。|
|ブートボタン|Raspberry Pi Pico本体付属のブートボタンです。RPicoBoyにuf2ファイルを書き込む際などに使います。長くて細いもので押すようにしてください。|
|フルカラーLED|アノードコモンのフルカラーLEDです。様々な色を表現できます。|
|ブザー|圧電スピーカーです。音を鳴らすことができます。|
|電源スイッチ|電池で起動させる際の電源スイッチです。正面から見て左(穴が開いている方)にスライドさせるとON、右にスライドさせるとOFFになります。Micro USBポートに接続する際は必ず電源スイッチをOFFの状態にしてから接続してください。|
|A、B|ボタンです。サンプルプログラムでは基本的にAで決定、Bで停止やリトライなどの処理を割り当てています。|
|UP、RIGHT、LEFT、DOWN|ボタンです。サンプルプログラムではキャラやカーソルの移動で使用します。またこの4ボタンを全同時押しでメニュー画面に戻るような処理を取り入れています。|
|Micro USBポート|Micro USBケーブルの差し込み口です。RPicoBoyにプログラムを書き込む時などに使用します。Micro USBケーブルから給電が行われている時には、RPicoBoyに電池が入っていない、電源スイッチがOFFの場合でも動作可能となっています。|
|不揮発性領域|セーブ機能部分です。最大で256kビット(32kバイト)のデータを保存できます。|
|電池カバー|回転式になっており、下側から指でひっかけて引き上げる形にすると開きます。|

<div style="page-break-before:always"></div>

## ６：サンプルプログラム

RPicoBoyでは予めサンプルプログラムが書き込まれています。RPicoBoyのライブラリと書き込んでいるサンプルプログラムについては以下のページで公開しています。

- https://github.com/fuzzilia/rpicoboy_lib

Aボタンが決定、Bボタンは停止などに使用し、UP、RIGHT、LEFT、DOWNの4ボタンは選択する時などに使用するように設定しています。サンプルプログラムでは以下のどれを実行中でも「UP、RIGHT、LEFT、DOWNの4ボタン同時押し」でメニューに戻るようにしています。

<!-- |<div style="width:80px">名称</div>|内容|
|---|---|
|Soukoban|倉庫番という古くからあるゲームを自作したものです。全10ステージあります。キャラクターを操作して荷物を押し、ゴールまで移動させるのが目的のゲームです。各ステージが始まる毎に自動的に進捗がセーブされます。Bボタンでステージリトライできます。
|Fourtune|おみくじです。ボタンのどれかを押下するとOLEDの表示がストップし、時々ブザー音が鳴ったりフルカラーLEDが点灯します。|
|Sound Test|ブザーで鳴らす音をテストできます。UP、RIGHT、LEFT、DOWNボタンで鳴らす周波数を設定し、Aボタンで再生、Bボタンで止めます。|
|Led Test|フルカラーLEDの点灯テストができます。UP、RIGHT、LEFT、DOWNボタンで値を設定し、Aボタンで点灯/変更、Bボタンで消灯します。|
|Movie Test|OLEDにサンプル動画を表示させます。動画はループ再生されます。|
|Help|RPicoBoyに関するトップページのQRコードが表示されます。| -->

|名称|内容|
|---|---|
|Soukoban|倉庫番という古くからあるゲームを自作したものです。全10ステージあります。キャラクターを操作して荷物を押し、ゴールまで移動させるのが目的のゲームです。各ステージが始まる毎に自動的に進捗がセーブされます。Bボタンでステージリトライできます。
|Fourtune|おみくじです。ボタンのどれかを押下するとOLEDの表示がストップし、時々ブザー音が鳴ったりフルカラーLEDが点灯します。|
|Sound Test|ブザーで鳴らす音をテストできます。UP、RIGHT、LEFT、DOWNボタンで鳴らす周波数を設定し、Aボタンで再生、Bボタンで止めます。|
|Led Test|フルカラーLEDの点灯テストができます。UP、RIGHT、LEFT、DOWNボタンで値を設定し、Aボタンで点灯/変更、Bボタンで消灯します。|
|Movie Test|OLEDにサンプル動画を表示させます。動画はループ再生されます。|
|Help|RPicoBoyに関するトップページのQRコードが表示されます。|

## ７：リセット方法

自作プログラムを書き込んでも動かない、電源がONなのに反応がない、画面に何も表示されない、PC側で認識しないなどの場合は一度RPicoBoyをリセット(サンプルプログラム書き込み)する必要があります。

1. サンプルプログラムのGithubページを開きます。

    - https://github.com/fuzzilia/rpicoboy_lib/releases

2. そこにある最新の「uf2」の拡張子のファイルをダウンロードします。

3. RPicoBoyにMicro USBケーブルを接続し、PCに繋がない状態で細い針などを使って「ブートボタン」を押します。ブートボタンを押し続けている状態でUSBケーブルのもう片方をPCに接続します。

4. PC側でUSBフラッシュメモリなどと同じように記憶領域として認識され、エクスプローラが立ち上がります。

5. 自動で立ち上がったエクスプローラの中に先ほどダウンロードした拡張子「uf2」ファイルをドラッグ&ドロップします。

6. しばらく待つと書き込みが終了し、RPicoBoyでサンプルプログラムが起動します。

これでリセットは完了となります。

<div style="page-break-before:always"></div>

## ８：RPicoBoy部品表

RPicoBoyには以下の部品が含まれています。

|部位名|型番|個数|備考|
|---|---|---|---|
|マイコン|Raspberry Pi Pico|1|メインとなるマイコン|
|OLED|128*64ドット有機ELディスプレイ|1|白色のみの表示|
|ブザー|PKM13EPYH4000-A0|1||
|フルカラーLED|OSTBMAZ2C1D|1|アノードコモン|
|ボリューム|RV100F-30-6K3B-B10K-B301|1||
|不揮発性領域|24FC256-I/P|1|シリアルEEPROM|
|電池ボックス|BH421A|1|単4×2|
|スライドスイッチ|SK-12D11VG3|1||
|ボタン|TVDP01-G73BB with Black cap|6||
|ダイオード|1N5817|1|20V 1A|
|ピンヘッダ|PH-1x40SG|1|マイコン用|
|樹脂スペーサ|TP2-5|2|OLED固定用|
|プラナット|M-2|4|OLED固定用|
|プラネジ|M2-5|2|OLED固定用|
|金属ナット|M3ナット(RO)|6|ケース、電池ボックス固定用|
|金属ネジ|M3×10(RO)|3|ケース、電池ボックス固定用|
|金属ネジ|M3×25(RO)|2|ケース、電池ボックス固定用|
