# SH-Controller v2 Bluetooth版 説明書

## 概要

本書はお絵かき補助入力デバイス作成キット、SH-Controller v2 のBluetooth版の説明書です。
通常版(USB接続版)と共通事項については、[こちら](./index.md)を御覧ください。

## 設定の書き込み

基本的な書き込みの流れについては、[通常版の説明書](./index.md)と同様ですが、 選択できるデバイス、および実際に書き込みを行う際の手順が異なります。

### 選択できるデバイス

「Seeed Studio Xiao nRF52840 Sense」をご利用の場合に限り、
「SH-Controller nRF52 v2 (右手用/ジャイロ有)」「SH-Controller nRF52 v2 (左手用/ジャイロ有)」の2つを追加で選択できます。
この2つを選択した場合のみ、ジャイロ入力をご利用いただけます。

### 書き込みの手順

USB接続版では SH-Controller v2 とPCとをUSBケーブルで接続して、設定ツールのUSB接続ボタンを押すだけでしたが、Bluetooth版では以下の手順となります。

- SH-Controller v2 の電源スイッチをOFFにする
- SH-Controller v2 のRまたはLボタンを押しながら電源スイッチをONにする
  - ※ こうすると、SH-Controller v2 が書き込みモードになり、LEDが紫色に点滅します。
- 設定ツールの「無線接続」をクリックする
- Bluetooth機器一覧のダイアログが表示されるので、SH-Confを選択する
- 書き込みボタンをクリックする

以上で書き込みが完了し、SH-Controller v2 の電源を入れ直せば設定を適用した状態で利用開始できます。

## ジャイロ有のキー設定について

ジャイロ有のデバイスを選択した場合、ボタンに対するキー割り当て設定の「操作」を選択可能になり、「押下」の他に「モーション」を設定できるようになります。
「モーション」はジャイロセンサを使った入力で、下記の2種類の設定が可能です。

### モーション種別 : 回転

設定したボタンを押下しながら本体を回転させることでキーを連打入力します。
「Undo/Redo」や「コマ送り/コマ戻し」などの連打しがちなキーを割り当てることを意図した種別です。

「分割数」は数値を大きくするとキー入力に必要な回転角度が小さくなり、結果連打数が上がります。制御が難しいと感じたら小さい数値に設定してください。

「回転方向ロック」にチェックをいれると、ボタンを押下したあと最初の回転時に回転方向がロックされ、それ以外の方向に設定したキーは入力されなくなります。（一度ボタンを離すとロックが解除されます。）
逆に、このチェックを入れなければ、最大6種類のキーが連打入力されることになります。多くのケースでは連続で入力したいキーは2種類になると思いますので、基本的にはチェックをいれることをおすすめします。

### モーション種別 : ジェスチャ

設定したボタンを押下しながら本体を回転させると、回転方向に応じて1回のキー入力を行います。
「モーション種別:回転」と異なり連打ができないので、1回入力で十分な使用頻度の低いキーを割り当てることを意図した種別です。割り当て可能なキー数を増やしたい場合や、逆操作のキーを左右回転それぞれに割り当てて覚えやすくする等の用途にご利用ください。

## その他注意点

Bluetooth入力は入力の速度(1秒に連打可能なキー数)がUSBよりも少なく、特にジャイロの回転を激しく行うとキー入力が遅延したりキーが溢れたりすることになりますので、分割数などは程よい入力速度になるように調整を行ってください。
